<html>
<head>
    <title>天气查询网页</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }
        .container {
            width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        input {
            width: 300px;
            height: 30px;
            margin: 10px;
            border: 1px solid #ccc;
            padding: 5px;
        }
        button {
            width: 100px;
            height: 40px;
            margin: 10px;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
        }
        .result {
            width: 500px;
            margin: 0 auto;
            padding: 10px;
            border: 1px solid #ccc;
            display: none;
        }
        .result p {
            margin: 5px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>天气查询网页</h1>
        <form id="form">
            <input type="text" id="city" placeholder="请输入城市名称" required>
            <button type="submit" id="submit">查询</button>
        </form>
        <div class="result" id="result">
            <p id="city-name"></p>
            <p id="weather"></p>
            <p id="temp"></p>
            <p id="wind"></p>
            <p id="hum"></p>
        </div>
    </div>
    <script>
        // 获取元素
        var form = document.getElementById("form");
        var city = document.getElementById("city");
        var submit = document.getElementById("submit");
        var result = document.getElementById("result");
        var cityName = document.getElementById("city-name");
        var weather = document.getElementById("weather");
        var temp = document.getElementById("temp");
        var wind = document.getElementById("wind");
        var hum = document.getElementById("hum");

        // 定义和风天气的API密钥
        var key = "YOUR_API_KEY";

        // 定义查询天气的函数
        function queryWeather() {
            // 获取用户输入的城市名称
            var cityValue = city.value;
            // 检查输入是否为空
            if (cityValue == "") {
                alert("请输入城市名称");
                return;
            }
            // 构造和风天气的API请求地址
            var url = https://devapi.qweather.com/v7/weather/now?location=101010100&key=1193fe1ea8e54051935f227ccca12b7e;
            // 创建XMLHttpRequest对象
            var xhr = new XMLHttpRequest();
            // 设置请求方法和地址
            xhr.open("GET", url, true);
            // 设置响应类型为JSON
            xhr.responseType = "json";
            // 发送请求
            xhr.send();
            // 监听响应状态变化
            xhr.onreadystatechange = function() {
                // 判断响应是否完成
                if (xhr.readyState == 4) {
                    // 判断响应是否成功
                    if (xhr.status == 200) {
                        // 获取响应数据
                        var data = xhr.response;
                        // 判断数据是否有效
                        if (data.HeWeather6[0].status == "ok") {
                            // 显示结果区域
                            result.style.display = "block";
                            // 获取并显示城市名称
                            var city = data.HeWeather6[0].basic.location;
                            cityName.innerHTML = "城市：" + city;
                            // 获取并显示天气状况
                            var cond = data.HeWeather6[0].now.cond_txt;
                            weather.innerHTML = "天气：" + cond;
                            // 获取并显示温度
                            var tmp = data.HeWeather6[0].now.tmp;
                            temp.innerHTML = "温度：" + tmp + "℃";
                            // 获取并显示风向和风力
                            var dir = data.HeWeather6[0].now.wind_dir;
                            var sc = data.HeWeather6[0].now.wind_sc;
                            wind.innerHTML = "风向：" + dir + "，风力：" + sc + "级";
                            // 获取并显示相对湿度
                            var humi = data.HeWeather6[0].now.hum;
                            hum.innerHTML = "相对湿度：" + humi + "%";
                        } else {
                            // 数据无效，提示错误信息
                            alert("查询失败，请检查城市名称是否正确");
                        }
                    } else {
                        // 响应失败，提示错误信息
                        alert("请求失败，请稍后重试");
                    }
                }
            }
        }

        // 监听表单提交事件
        form.addEventListener("submit", function(event) {
            // 阻止表单默认提交行为
            event.preventDefault();
            // 调用查询天气的函数
            queryWeather();
        });
    </script>
</body>
</html>
